let navbar,navToggle,navMenu,backToTopBtn,themeToggleBtn;function initializeElements(){navbar=document.getElementById("navbar"),navToggle=document.getElementById("nav-toggle"),navMenu=document.getElementById("nav-menu"),backToTopBtn=document.getElementById("back-to-top"),themeToggleBtn=document.getElementById("theme-toggle")}function setupEventListeners(){navToggle&&navMenu&&navToggle.addEventListener("click",toggleMobileMenu),document.addEventListener("click",function(e){navMenu&&navMenu.classList.contains("active")&&!navToggle.contains(e.target)&&!navMenu.contains(e.target)&&closeMobileMenu()});document.querySelectorAll(".nav-link").forEach(e=>{e.addEventListener("click",closeMobileMenu)}),backToTopBtn&&backToTopBtn.addEventListener("click",scrollToTop),window.addEventListener("scroll",handleScroll),window.addEventListener("resize",debounce(handleResize,150)),themeToggleBtn&&themeToggleBtn.addEventListener("click",toggleTheme),setupTouchEvents()}function handleResize(){window.innerWidth>=768&&navMenu&&navMenu.classList.contains("active")&&closeMobileMenu()}function toggleMobileMenu(){navMenu.classList.contains("active")?closeMobileMenu():openMobileMenu()}function openMobileMenu(){navMenu.classList.add("active"),navToggle.classList.add("active"),document.body.style.overflow="hidden"}function closeMobileMenu(){navMenu.classList.remove("active"),navToggle.classList.remove("active"),document.body.style.overflow=""}function handleScroll(){const e=window.pageYOffset||document.documentElement.scrollTop;document.documentElement.getAttribute("data-theme");navbar&&(e>50?navbar.classList.add("scrolled"):navbar.classList.remove("scrolled")),backToTopBtn&&(e>300?backToTopBtn.classList.add("visible"):backToTopBtn.classList.remove("visible")),updateActiveNavLink()}function updateActiveNavLink(){const e=document.querySelectorAll("section[id]"),t=document.querySelectorAll(".nav-link");let n="";e.forEach(e=>{const t=e.offsetTop-100,a=e.offsetHeight;window.pageYOffset>=t&&window.pageYOffset<t+a&&(n=e.getAttribute("id"))}),t.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")===`#${n}`&&e.classList.add("active")})}function scrollToSection(e){const t=document.getElementById(e);if(t){let e=80;if(navbar){const t=getComputedStyle(navbar).getPropertyValue("--navbar-height");t&&(e=parseInt(t,10)||e)}const n=t.offsetTop-e;window.scrollTo({top:n,behavior:"smooth"})}}function scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}function toggleTheme(e){if(!document.startViewTransition)return void performThemeToggle();const t=e?e.clientX:window.innerWidth/2,n=e?e.clientY:window.innerHeight/2,a=Math.hypot(Math.max(t,window.innerWidth-t),Math.max(n,window.innerHeight-n)),o=document.documentElement,r="dark"===o.getAttribute("data-theme");r&&o.classList.add("theme-transition-back");const s=document.startViewTransition(()=>{performThemeToggle()});s.ready.then(()=>{r?document.documentElement.animate({clipPath:[`circle(${a}px at ${t}px ${n}px)`,`circle(0px at ${t}px ${n}px)`]},{duration:500,easing:"ease-in-out",pseudoElement:"::view-transition-old(root)"}):document.documentElement.animate({clipPath:[`circle(0px at ${t}px ${n}px)`,`circle(${a}px at ${t}px ${n}px)`]},{duration:500,easing:"ease-in-out",pseudoElement:"::view-transition-new(root)"})}),s.finished.then(()=>{o.classList.remove("theme-transition-back")})}function performThemeToggle(){const e="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e);const t=themeToggleBtn.querySelector("i");if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return t.className="dark"===e?"fas fa-sun":"fas fa-moon",themeToggleBtn.classList.remove("rotating"),void themeToggleBtn.setAttribute("aria-pressed","dark"===e);themeToggleBtn.classList.add("rotating"),setTimeout(()=>{t.className="dark"===e?"fas fa-sun":"fas fa-moon",setTimeout(()=>themeToggleBtn.classList.remove("rotating"),260)},120),themeToggleBtn.setAttribute("aria-pressed","dark"===e)}function loadTheme(){const e=localStorage.getItem("theme")||"light";if(document.documentElement.setAttribute("data-theme",e),themeToggleBtn){const t=themeToggleBtn.querySelector("i");t.className="dark"===e?"fas fa-sun":"fas fa-moon"}}function setupTouchEvents(){document.querySelectorAll(".btn, .advantage-card, .service-card, .info-card, .nav-link").forEach(e=>{e.addEventListener("touchstart",function(){this.style.transform="scale(0.98)"}),e.addEventListener("touchend",function(){this.style.transform=""})}),setupSwipeGestures()}function setupSwipeGestures(){const e=document.querySelector(".car-seat-wrapper");if(!e)return;let t=0,n=0,a=!1,o=!1;e.addEventListener("touchstart",function(e){t=e.touches[0].clientX,n=e.touches[0].clientY,a=!1,o=!1},{passive:!0}),e.addEventListener("touchmove",function(e){if(!t||!n)return;const r=t-e.touches[0].clientX,s=n-e.touches[0].clientY;!o&&Math.abs(r)>10&&(o=Math.abs(r)>Math.abs(s)),o&&Math.abs(r)>Math.abs(s)&&(e.preventDefault(),a=!0)},{passive:!1}),e.addEventListener("touchend",function(e){if(!a||!t)return t=0,n=0,a=!1,void(o=!1);const r=t-e.changedTouches[0].clientX;Math.abs(r)>50&&(r>0?nextCarSeatImage():prevCarSeatImage()),t=0,n=0,a=!1,o=!1},{passive:!0});let r=!1,s=0,i=0;e.addEventListener("mousedown",function(e){r=!0,s=e.clientX,i=e.clientY,a=!1,o=!1}),e.addEventListener("mousemove",function(e){if(!r)return;const t=s-e.clientX,n=i-e.clientY;!o&&Math.abs(t)>10&&(o=Math.abs(t)>Math.abs(n)),o&&Math.abs(t)>Math.abs(n)&&(a=!0)}),e.addEventListener("mouseup",function(e){if(!r||!a)return r=!1,a=!1,void(o=!1);const t=s-e.clientX;Math.abs(t)>50&&(t>0?nextCarSeatImage():prevCarSeatImage()),r=!1,a=!1,o=!1}),e.addEventListener("mouseleave",function(){r=!1,a=!1,o=!1})}function setupContactForm(){const e=document.getElementById("contact-form");if(!e)return;const t=e.querySelectorAll("input[required], textarea[required]");function n(e){e.checkValidity()?(e.classList.add("valid"),e.classList.remove("invalid")):(e.classList.add("invalid"),e.classList.remove("valid"))}t.forEach(e=>{e.addEventListener("blur",()=>n(e)),e.addEventListener("input",()=>{e.classList.contains("invalid")&&n(e)})});const a=document.querySelector(".file-upload-wrapper"),o=document.getElementById("file-upload"),r=document.getElementById("file-name");if(a&&o){function s(e){e.preventDefault(),e.stopPropagation()}function i(e){e&&e.length>0?(r.textContent=e[0].name,r.classList.add("has-file"),a.classList.add("valid")):(r.textContent="No file chosen",r.classList.remove("has-file"),a.classList.remove("valid"))}["dragenter","dragover","dragleave","drop"].forEach(e=>{a.addEventListener(e,s,!1)}),["dragenter","dragover"].forEach(e=>{a.addEventListener(e,()=>a.classList.add("drag-over"),!1)}),["dragleave","drop"].forEach(e=>{a.addEventListener(e,()=>a.classList.remove("drag-over"),!1)}),a.addEventListener("drop",e=>{const t=e.dataTransfer.files;o.files=t,i(t)}),o.addEventListener("change",()=>{i(o.files)})}e.addEventListener("submit",async function(s){s.preventDefault();let i=!0;if(t.forEach(e=>{n(e),e.checkValidity()||(i=!1)}),!i)return void showNotification("Please correct the highlighted fields.","error");const c=new FormData(e);if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.get("email")))return void showNotification("Please enter a valid email address.","error");const l=e.querySelector('button[type="submit"]'),d=l.innerHTML;l.innerHTML='<i class="fas fa-spinner fa-spin"></i> Sending...',l.disabled=!0;try{const n=new FormData;n.append("name",c.get("name")),n.append("email",c.get("email")),n.append("phone",c.get("phone")||""),n.append("vehicle",c.get("vehicle")||""),n.append("message",c.get("message")),n.append("timestamp",(new Date).toISOString()),n.append("source","SHERIF-SIEGE-AUTO Website"),o&&o.files.length>0&&n.append("file",o.files[0]),await new Promise(e=>setTimeout(e,2e3)),showNotification("Thank you for your message. We will contact you very soon!","success"),e.reset(),t.forEach(e=>e.classList.remove("valid","invalid")),r&&(r.textContent="No file chosen",r.classList.remove("has-file"),a&&a.classList.remove("valid"))}catch(e){console.error("Error sending form data:",e),showNotification("There was an error sending your message. Please try again or call us directly.","error")}finally{l.innerHTML=d,l.disabled=!1}})}function showNotification(e,t="info"){document.querySelectorAll(".notification").forEach(e=>e.remove());const n=document.createElement("div");n.className=`notification notification-${t}`,n.innerHTML=`\n        <div class="notification-content">\n            <i class="fas ${"success"===t?"fa-check-circle":"error"===t?"fa-exclamation-circle":"fa-info-circle"}"></i>\n            <span>${e}</span>\n        </div>\n        <button class="notification-close">\n            <i class="fas fa-times"></i>\n        </button>\n    `,n.style.cssText=`\n        position: fixed;\n        top: 100px;\n        left: 50%;\n        transform: translateX(-50%);\n        background: ${"success"===t?"#4CAF50":"error"===t?"#F44336":"#2196F3"};\n        color: white;\n        padding: 16px 20px;\n        border-radius: 8px;\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n        z-index: 10000;\n        display: flex;\n        align-items: center;\n        gap: 12px;\n        max-width: 90%;\n        animation: slideDown 0.3s ease;\n    `;const a=document.createElement("style");a.textContent="\n        @keyframes slideDown {\n            from {\n                transform: translateX(-50%) translateY(-20px);\n                opacity: 0;\n            }\n            to {\n                transform: translateX(-50%) translateY(0);\n                opacity: 1;\n            }\n        }\n        .notification-content {\n            display: flex;\n            align-items: center;\n            gap: 8px;\n        }\n        .notification-close {\n            background: none;\n            border: none;\n            color: white;\n            cursor: pointer;\n            padding: 4px;\n        }\n    ",document.head.appendChild(a),document.body.appendChild(n);n.querySelector(".notification-close").addEventListener("click",()=>{n.remove()}),setTimeout(()=>{n.parentNode&&n.remove()},5e3)}document.addEventListener("DOMContentLoaded",function(){initializeElements(),setupEventListeners(),initNewFeatures(),setupContactForm(),detectComponentImages(),initCarSeatCarousel(),setupCarBrands(),setupScrollAnimations(),setupFileUpload(),initHeaderSearch()}),loadTheme();let dotsContainer,autoRotateTimer,currentSeatIndex=0,seatImages=[];async function detectComponentImages(){try{const e=[...["component/Gallery/Black-&-Orange.webp","component/Gallery/Black-&-Red.webp","component/Gallery/Blue.webp","component/Gallery/Dark-blue-&-white.webp","component/Gallery/Red.webp"]];return console.log("Detected images:",e),e}catch(e){return console.log("Using fallback images"),["component/Gallery/Black-&-Orange.webp","component/Gallery/Black-&-Red.webp","component/Gallery/Blue.webp","component/Gallery/Dark-blue-&-white.webp","component/Gallery/Red.webp"]}}async function initCarSeatCarousel(){if(seatImages=await detectComponentImages(),0===seatImages.length)return void console.log("No car seat images found");const e=document.querySelector(".car-seat-wrapper");if(!e)return;const t=createSeatImage(seatImages[0]);t.classList.add("active"),e.appendChild(t),buildCarouselDots(),startAutoRotate()}function nextCarSeatImage(){0!==seatImages.length&&(currentSeatIndex=(currentSeatIndex+1)%seatImages.length,updateCarSeatImage())}function prevCarSeatImage(){0!==seatImages.length&&(currentSeatIndex=(currentSeatIndex-1+seatImages.length)%seatImages.length,updateCarSeatImage())}function updateCarSeatImage(){const e=document.querySelector(".car-seat-wrapper");if(!e||!seatImages[currentSeatIndex])return;const t=e.querySelector(".carousel-image.active")||e.querySelector(".carousel-image"),n=createSeatImage(seatImages[currentSeatIndex]);e.appendChild(n),requestAnimationFrame(()=>{n.classList.add("active"),t&&t.classList.remove("active")}),t&&t.addEventListener("transitionend",()=>{t.parentNode&&t.parentNode.removeChild(t)},{once:!0}),updateCarouselDots()}function createSeatImage(e){const t=document.createElement("img");return t.src=e,t.alt="Car Seat Restoration",t.className="carousel-image",t}function startAutoRotate(){stopAutoRotate(),autoRotateTimer=setInterval(()=>{nextCarSeatImage()},4e3)}function stopAutoRotate(){autoRotateTimer&&(clearInterval(autoRotateTimer),autoRotateTimer=null)}function buildCarouselDots(){dotsContainer=document.querySelector(".carousel-dots"),dotsContainer&&(dotsContainer.innerHTML="",seatImages.forEach((e,t)=>{const n=document.createElement("button");n.className="carousel-dot"+(t===currentSeatIndex?" active":""),n.setAttribute("role","tab"),n.setAttribute("aria-label",`Go to slide ${t+1}`),n.setAttribute("aria-selected",t===currentSeatIndex?"true":"false"),n.addEventListener("click",()=>{currentSeatIndex=t,updateCarSeatImage(),startAutoRotate()}),dotsContainer.appendChild(n)}))}function updateCarouselDots(){if(dotsContainer||(dotsContainer=document.querySelector(".carousel-dots")),!dotsContainer)return;dotsContainer.querySelectorAll(".carousel-dot").forEach((e,t)=>{t===currentSeatIndex?(e.classList.add("active"),e.setAttribute("aria-selected","true")):(e.classList.remove("active"),e.setAttribute("aria-selected","false"))})}function initNewFeatures(){if(document.querySelectorAll(".btn").forEach(e=>{e.addEventListener("click",function(){this.disabled||(this.style.transform="scale(0.98)",setTimeout(()=>{this.style.transform=""},150))})}),!("ontouchstart"in window)){document.querySelectorAll(".advantage-card, .service-card, .info-card").forEach(e=>{e.addEventListener("mouseenter",function(){this.style.transform="translateY(-5px)"}),e.addEventListener("mouseleave",function(){this.style.transform=""})})}if("IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.dataset.src&&(n.src=n.dataset.src,n.removeAttribute("data-src"),t.unobserve(n))}})});document.querySelectorAll("img[data-src]").forEach(t=>e.observe(t))}}function debounce(e,t){let n;return function(...a){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),e(...a)},t)}}const optimizedScrollHandler=debounce(handleScroll,10);function setupCarBrands(){const e=document.querySelector(".car-brands-track");if(!e)return;const t=["component/Car Brands/Sans-titre-1.webp","component/Car Brands/Sans-titre-2.webp","component/Car Brands/Sans-titre-3.webp","component/Car Brands/Sans-titre-4.webp","component/Car Brands/Sans-titre-5.webp","component/Car Brands/Sans-titre-6.webp","component/Car Brands/Sans-titre-7.webp","component/Car Brands/Sans-titre-8.webp","component/Car Brands/Sans-titre-9.webp","component/Car Brands/Sans-titre-10.webp","component/Car Brands/Sans-titre-11.webp","component/Car Brands/Sans-titre-12.webp","component/Car Brands/Sans-titre-13.webp","component/Car Brands/Sans-titre-14.webp"],n=e=>e.map(e=>{const t=document.createElement("div");t.className="car-brand-item";const n=document.createElement("img");n.src=e;const a=e.split("/").pop().replace(".webp","").replace("Sans-titre-","Brand ");return n.alt=a,n.onerror=function(){this.style.display="none"},t.appendChild(n),t}),a=n(t),o=n(t);a.forEach(t=>e.appendChild(t)),o.forEach(t=>e.appendChild(t))}function setupScrollAnimations(){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-visible"),t.unobserve(e.target))})},{root:null,rootMargin:"0px",threshold:.1});document.querySelectorAll(".animate-on-scroll").forEach(t=>e.observe(t))}function setupFileUpload(){const e=document.getElementById("file-upload"),t=document.getElementById("file-name"),n=document.querySelector(".file-upload-wrapper"),a=document.querySelector(".file-upload-label");e&&t&&n&&(n.addEventListener("click",function(t){t.target===e||t.target.closest("label")||e.click()}),e.addEventListener("change",function(e){if(console.log("File input changed:",this.files),this.files&&this.files.length>0){const e=this.files[0];if(t.textContent=e.name,n.classList.add("has-file"),e.type.startsWith("image/")){n.classList.add("has-image");const t=new FileReader;t.onload=function(e){n.style.backgroundImage=`url('${e.target.result}')`,n.style.backgroundSize="cover",n.style.backgroundPosition="center",a&&(a.innerHTML='<i class="fas fa-sync-alt"></i><span>Change</span>',a.style.background="rgba(255, 255, 255, 0.9)",a.style.padding="6px 12px",a.style.borderRadius="20px",a.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",a.style.color="var(--primary-dark)",a.style.fontWeight="600")},t.readAsDataURL(e)}else n.classList.remove("has-image"),n.style.backgroundImage="none",a&&(a.innerHTML='<i class="fas fa-file-check"></i><span>File Selected</span>',a.style.background="transparent",a.style.padding="0",a.style.boxShadow="none",a.style.color="var(--success)")}else t.textContent="No file chosen",n.classList.remove("has-file"),n.classList.remove("has-image"),n.style.backgroundImage="none",a&&(a.innerHTML='<i class="fas fa-cloud-upload-alt"></i><span>Choose File</span>',a.style.background="transparent",a.style.padding="0",a.style.boxShadow="none",a.style.color="var(--text-secondary)",a.style.fontWeight="normal")}))}function initVisualizer(){const e=document.querySelectorAll(".color-btn"),t=document.getElementById("visualizerOverlay"),n=document.querySelector(".selected-color-name");e.length&&t&&e.forEach(a=>{a.addEventListener("click",()=>{e.forEach(e=>e.classList.remove("active")),a.classList.add("active");const o=a.dataset.color,r=a.dataset.name;t.style.backgroundColor=o,n&&(n.textContent=r),navigator.vibrate&&navigator.vibrate(30)})})}function initCompatibilityChecker(){const e=document.getElementById("heroBrandSelect"),t=document.getElementById("heroModelSelect"),n=document.getElementById("compatibilityResult");if(!e||!t)return;let a=[];fetch("../DATA/vehicles.csv").then(e=>{if(!e.ok)throw new Error("Failed to load");return e.text()}).then(t=>{const n=t.split("\n").filter(e=>e.trim()),o=n[0].toLowerCase().includes("brand")?1:0;a=n.slice(o).map(e=>{const t=e.split(",");return t.length<2?null:{brand:t[0].trim(),model:t[1].trim()}}).filter(e=>null!==e);[...new Set(a.map(e=>e.brand))].sort().forEach(t=>{const n=document.createElement("option");n.value=t,n.textContent=t,e.appendChild(n)})}).catch(e=>{console.error("Error loading vehicle data for checker:",e)}),e.addEventListener("change",()=>{const o=e.value;if(t.innerHTML='<option value="">Select Model</option>',n.textContent="",!o)return void(t.disabled=!0);[...new Set(a.filter(e=>e.brand===o).map(e=>e.model))].sort().forEach(e=>{const n=document.createElement("option");n.value=e,n.textContent=e,t.appendChild(n)}),t.disabled=!1,navigator.vibrate&&navigator.vibrate(20)}),t.addEventListener("change",()=>{const o=e.value,r=t.value;if(o&&r){const e=a.filter(e=>e.brand===o&&e.model===r).length;e>0?(n.innerHTML='<i class="fas fa-check-circle"></i> We have worked on <b>'+e+"</b> "+o+" "+r+"(s)!",n.style.color="var(--success)"):(n.innerHTML='<i class="fas fa-check-circle"></i> We are compatible with '+o+" "+r+"!",n.style.color="var(--primary)"),navigator.vibrate&&navigator.vibrate([30,50,30])}else n.textContent=""})}function initHeaderSearch(){const e=document.getElementById("search-toggle"),t=document.querySelector(".search-container"),n=document.getElementById("header-search-input"),a=document.getElementById("header-search-results");if(!e||!t||!n)return;e.addEventListener("click",e=>{e.stopPropagation();t.classList.contains("active")?(n.value.trim(),t.classList.remove("active")):(t.classList.add("active"),setTimeout(()=>n.focus(),100))}),document.addEventListener("click",e=>{t.contains(e.target)||(t.classList.remove("active"),a&&a.classList.remove("active"))});let o=[];fetch("../DATA/vehicles.csv").then(e=>e.ok?e.text():Promise.reject("Failed to load")).then(e=>{const t=e.split("\n").filter(e=>e.trim()),n=t[0].toLowerCase().includes("brand")?1:0;o=t.slice(n).map(e=>{const t=e.split(",");return t.length>=2?{brand:t[0].trim(),model:t[1].trim(),year:t[2]?t[2].trim():""}:null}).filter(e=>e)}).catch(e=>console.log("Header search data error:",e));const r=[{name:"Leather Restoration",type:"service"},{name:"Seat Repair",type:"service"},{name:"Dashboard Restoration",type:"service"},{name:"Custom Stitching",type:"service"},{name:"Headliner Replacement",type:"service"}];n.addEventListener("input",e=>{const t=e.target.value.toLowerCase().trim();if(!a)return;if(t.length<2)return void a.classList.remove("active");const n=o.filter(e=>e.brand.toLowerCase().includes(t)||e.model.toLowerCase().includes(t)).slice(0,3),s=r.filter(e=>e.name.toLowerCase().includes(t)).slice(0,2);if(0===n.length&&0===s.length)return void a.classList.remove("active");let i="";n.length>0&&(i+='<div style="padding: 8px 12px; font-size: 0.75rem; color: var(--text-secondary); font-weight: 600;">VEHICLES</div>',n.forEach(e=>{i+=`\n                        <div class="search-result-item" onclick="location.href='category.html?search=${encodeURIComponent(e.brand+" "+e.model)}'">\n                                <i class="fas fa-car"></i>\n                                <span>${e.brand} ${e.model} ${e.year}</span>\n                        </div>\n                  `})),s.length>0&&(i+='<div style="padding: 8px 12px; font-size: 0.75rem; color: var(--text-secondary); font-weight: 600; margin-top: 5px;">SERVICES</div>',s.forEach(e=>{i+=`\n                        <div class="search-result-item" onclick="location.href='#services'">\n                                <i class="fas fa-tools"></i>\n                                <span>${e.name}</span>\n                        </div>\n                  `})),a.innerHTML=i,a.classList.add("active")})}window.removeEventListener("scroll",handleScroll),window.addEventListener("scroll",optimizedScrollHandler),optimizedScrollHandler(),"performance"in window&&window.addEventListener("load",function(){setTimeout(()=>{const e=performance.getEntriesByType("navigation")[0];console.log("Page load time:",e.loadEventEnd-e.loadEventStart,"ms")},0)}),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(function(e){console.log("ServiceWorker registration successful")}).catch(function(e){console.log("ServiceWorker registration failed")})}),window.scrollToSection=scrollToSection,window.nextCarSeatImage=nextCarSeatImage,window.prevCarSeatImage=prevCarSeatImage,document.addEventListener("DOMContentLoaded",()=>{initVisualizer(),initCompatibilityChecker()}),document.addEventListener("DOMContentLoaded",()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("is-visible")})},{threshold:.1});document.querySelectorAll(".animate-on-scroll").forEach(t=>{e.observe(t)})});